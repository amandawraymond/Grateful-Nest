<!DOCTYPE html>
<html ng-app="App">
<head>
  <title>Rails App Starter Kit</title>
  <%= stylesheet_link_tag 'client/application', media: 'all' %>

  <%= javascript_include_tag 'client/application' %>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= csrf_meta_tags %>
</head>
<body ng-controller="AppCtrl">
  <%= render 'layouts/top_nav' %>

  <please-wait>
    Please wait...
  </please-wait>

  <div class="container" id="flash-container">
    <%# Server-side flash messages %>
    <%= server_flash_alerts %>

    <%# Client-side flash messages %>
    <flash-alerts closeable="true"></flash-alerts>
  </div>

  <%= yield %>

  <%= render 'layouts/footer' %>

  <%# Set currently signed in user details, if any %>
  <script type="application/javascript">
    <% if (c = current_user_json) %>
    var CurrentUser = <%= raw c %>;
    <% else %>
    var CurrentUser = null;
    <% end %>
  </script>
</body>
</html>